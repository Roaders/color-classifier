/*!
 * color-classifier
 * Classify the color along the reference color.
 *
 * @author tsuyoshiwada
 * @license MIT
 * @version 0.0.1
 */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):r.ColorClassifier=n()}(this,function(){"use strict";function r(r,e){var t=[].concat(n.toConsumableArray(r));return t.sort(function(r,n){return r[e]<n[e]?-1:r[e]>n[e]?1:0}),t.shift()}var n={};n.classCallCheck=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},n.createClass=function(){function r(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}}(),n.toConsumableArray=function(r){if(Array.isArray(r)){for(var n=0,e=Array(r.length);n<r.length;n++)e[n]=r[n];return e}return Array.from(r)};var e=/^#([a-fA-F0-9]{3})$/,t=/^#([a-fA-F0-9]{6})$/,a=function(){function r(e){n.classCallCheck(this,r),this.original=e,this.rgb=r.parseHex(e),this.hsv=r.rgbToHsv(this.rgb)}return n.createClass(r,null,[{key:"parseHex",value:function(r){var n={};if(e.test(r)){var a=r.slice(1,2),s=r.slice(2,3),o=r.slice(3,4);n.r=parseInt(a+a,16),n.g=parseInt(s+s,16),n.b=parseInt(o+o,16)}else{if(!t.test(r))return null;n.r=parseInt(r.slice(1,3),16),n.g=parseInt(r.slice(3,5),16),n.b=parseInt(r.slice(5,7),16)}return n}},{key:"rgbToHsv",value:function(r){var n=r.r,e=r.g,t=r.b,a={},s=Math.min(n,e,t),o=Math.max(n,e,t),i=o-s;return 0===o?a.s=0:a.s=Math.round(i/o*100),o===s?a.h=0:n===o?a.h=(e-t)/i:e===o?a.h=2+(t-n)/i:a.h=4+(n-e)/i,a.h=Math.min(Math.round(60*a.h),360),a.h<0&&(a.h+=360),a.v=Math.round(o/255*100),a}},{key:"hsvDistance",value:function(r,n){var e=0;return e=r.h>n.h?Math.min(r.h-n.h,n.h-r.h+360):Math.min(n.h-r.h,r.h-n.h+360),Math.sqrt(Math.pow(e,2)+Math.pow(r.s-n.s,2)+Math.pow(r.v-n.v,2))}},{key:"rgbDistance",value:function(r,n){}}]),r}(),s=["#000000","#808080","#c0c0c0","#ffffff","#0000ff","#000080","#008080","#008000","#00ff00","#00ffff","#ffff00","#ff0000","#ff00ff","#808000","#800080","#800000"],o=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?s:arguments[0];n.classCallCheck(this,e),this.baseColors=r.map(function(r){return new a(r)})}return n.createClass(e,[{key:"classify",value:function(n){var e=this.baseColors,t=new a(n).hsv,s=[];return e.forEach(function(r){s.push({distance:a.hsvDistance(r.hsv,t),color:r.original})}),r(s,"distance").color}},{key:"classifyFromArray",value:function(r){var n=this,e={};return r.forEach(function(r){var t=n.classify(r);e.hasOwnProperty(t)||(e[t]=[]),e[t].push(r)}),e}}]),e}();return o.base16Colors=s,o});