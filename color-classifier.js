/*!
 * color-classifier
 * Classify the color along the reference color.
 *
 * @author tsuyoshiwada
 * @license MIT
 * @version 0.0.1
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.ColorClassifier=r()}(this,function(){"use strict";function e(e,n){var t=[].concat(r.toConsumableArray(e));return t.sort(function(e,r){return e[n]<r[n]?-1:e[n]>r[n]?1:0}),t.shift()}var r={};r.classCallCheck=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")},r.createClass=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),r.toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,n=Array(e.length);r<e.length;r++)n[r]=e[r];return n}return Array.from(e)};var n=/^#([a-fA-F0-9]{3})$/,t=/^#([a-fA-F0-9]{6})$/,a=function(){function e(n){r.classCallCheck(this,e),this.original=n,this.rgb=e.parseHex(n),this.hsv=e.rgbToHsv(this.rgb)}return r.createClass(e,null,[{key:"parseHex",value:function(e){var r={};if(n.test(e)){var a=e.slice(1,2),s=e.slice(2,3),o=e.slice(3,4);r.r=parseInt(a+a,16),r.g=parseInt(s+s,16),r.b=parseInt(o+o,16)}else{if(!t.test(e))return null;r.r=parseInt(e.slice(1,3),16),r.g=parseInt(e.slice(3,5),16),r.b=parseInt(e.slice(5,7),16)}return r}},{key:"rgbToHsv",value:function(e){var r=e.r,n=e.g,t=e.b,a={},s=Math.min(r,n,t),o=Math.max(r,n,t),i=o-s;return 0===o?a.s=0:a.s=Math.round(i/o*100),o===s?a.h=0:r===o?a.h=(n-t)/i:n===o?a.h=2+(t-r)/i:a.h=4+(r-n)/i,a.h=Math.min(Math.round(60*a.h),360),a.h<0&&(a.h+=360),a.v=Math.round(o/255*100),a}},{key:"hsvDistance",value:function(e,r){var n=0;return n=e.h>r.h?Math.min(e.h-r.h,r.h-e.h+360):Math.min(r.h-e.h,e.h-r.h+360),Math.sqrt(Math.pow(n,2)+Math.pow(e.s-r.s,2)+Math.pow(e.v-r.v,2))}},{key:"rgbDistance",value:function(e,r){}}]),e}(),s=["#000000","#808080","#c0c0c0","#ffffff","#0000ff","#000080","#008080","#008000","#00ff00","#00ffff","#ffff00","#ff0000","#ff00ff","#808000","#800080","#800000"],o=function(){function n(){var e=arguments.length<=0||void 0===arguments[0]?s:arguments[0];r.classCallCheck(this,n),this.setBaseColors(e)}return r.createClass(n,[{key:"setBaseColors",value:function(e){this.baseColors=e.map(function(e){return new a(e)})}},{key:"getBaseColors",value:function(){return this.baseColors}},{key:"classify",value:function(r){var n=this.baseColors,t=new a(r).hsv,s=[];return n.forEach(function(e){s.push({distance:a.hsvDistance(e.hsv,t),color:e.original})}),e(s,"distance").color}},{key:"classifyFromArray",value:function(e){var r=this,n={};return e.forEach(function(e){var t=r.classify(e);n.hasOwnProperty(t)||(n[t]=[]),n[t].push(e)}),n}}]),n}();return o.base16Colors=s,o});